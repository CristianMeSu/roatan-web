---
import { translations } from "../../locales.js";
import "../../assets/css/main.css";
const lang = Astro.props?.lang ?? "es";
const t = translations[lang] ?? translations["es"];
import { Image } from "astro:assets";
import roatanLogo from "../../assets/img/logo/Roatan-LogoBlanco.png";
const menuItems = Object.entries(t.menu).map(([key, label]) => ({
  path: key,
  label,
}));
---

<div
id="menu_desktop"
  class=" hidden lg:flex lg:sticky flex-row-reverse top-0 justify-between p-6 bg-transparent items-center z-30 transition-colors duration-300 ease-in-out
"
>
<Image
id="logo_menu"
      class="absolute hidden lg:left-24 xl:left-48 md:top-2 md:w-20 md:h-auto transition-colors duration-300 ease-in-out"
      src={roatanLogo}
      alt="logo"
      loading="eager"
    />
  <nav class="text-white flex items-center mx-6">
    {
      menuItems.map(item => (
        <a class="menu_element uppercase font-bebas underline-grow text-2xl xl:text-4xl hover:font-bebasBold"  href={`/${lang}/${item.path}/`}>
          {item.label}
        </a>
      ))
    }
    <div class="pb-1 relative search_container">
      <input
        class="search_input font text-xs italic uppercase mx-3 rounded-full border-2 border-white w-auto py-1 px-2"
        placeholder="What to find?"
      />
      <Image
        class="absolute right-6 top-1.5"
        src="/img/iconos/lupa.svg"
        alt="logo"
        width="15"
        height="15"
        loading="eager"
      />
    </div>
    <div class="flex flex-row items-center social_media_container gap-2 xl:gap-4 mx-3 xl:mx-5 pt-1">
      <a href="https://www.facebook.com/PortRoatan" target="_blank"
        ><div class="icon-mask icon-mask-face"></div></a
      >
      <a href="https://www.instagram.com/portroatan" target="_blank"
        ><div class="icon-mask icon-mask-ig"></div></a
      >

      <a
        href="https://www.tripadvisor.com.mx/Attraction_Review-g292019-d25290415-Reviews-Roatan_Cruise_Port-Roatan_Bay_Islands.html"
        target="_blank"><div class="icon-mask icon-mask-trip"></div></a
      >
    </div>
    <a
      class="uppercase mx-1 hover:font-semibold underline-grow font-bebas text-2xl xl:text-4xl ml-3"
      href="/es/home">ES</a
    >
    <span class="text-2xl pb-2">|</span>
    <a
      class="uppercase mx-1 hover:font-semibold underline-grow font-bebas text-2xl xl:text-4xl"
      href="/en/home">ENG</a
    >
  </nav>

  <!-- <Image
      class="h-10 px-3"
      src="/img/logo/Roatan-LogoBlanco.png"
      alt="logo"
      width="80"
      height="70"
      loading="eager"
    /> -->
</div>
<div
id="menu_movil"
  class="flex lg:hidden flex-row-reverse justify-between p-6 bg-transparent items-center z-30"
>
  <nav class="text-white flex items-center mx-6">
    {
      menuItems.map(item => (
        <a class="menu_element uppercase font-bebas underline-grow text-2xl xl:text-4xl hover:font-bebasBold z-30"  href={`/${lang}/${item.path}/`}>
          {item.label}
        </a>
      ))
    }
    <div class="pb-1 relative search_container">
      <input
        class="search_input font text-xs italic uppercase mx-3 rounded-full border-2 border-white w-auto py-1 px-2"
        placeholder="What to find?"
      />
      <Image
        class="absolute right-6 top-1.5"
        src="/img/iconos/lupa.svg"
        alt="logo"
        width="15"
        height="15"
        loading="eager"
      />
    </div>
    <div class="flex flex-row items-center social_media_container gap-2 xl:gap-4 mx-3 xl:mx-5 pt-1">
      <a href="https://www.facebook.com/PortRoatan" target="_blank"
        ><div class="icon-mask icon-mask-face"></div></a
      >
      <a href="https://www.instagram.com/portroatan" target="_blank"
        ><div class="icon-mask icon-mask-ig"></div></a
      >

      <a
        href="https://www.tripadvisor.com.mx/Attraction_Review-g292019-d25290415-Reviews-Roatan_Cruise_Port-Roatan_Bay_Islands.html"
        target="_blank"><div class="icon-mask icon-mask-trip"></div></a
      >
    </div>
    <a
      class="uppercase mx-1 hover:font-semibold underline-grow font-bebas text-2xl xl:text-4xl ml-3"
      href="/es/home">ES</a
    >
    <span class="text-2xl pb-2">|</span>
    <a
      class="uppercase mx-1 hover:font-semibold underline-grow font-bebas text-2xl xl:text-4xl"
      href="/en/home">ENG</a
    >
  </nav>
</div>
<script>
  window.addEventListener('scroll', function () {
    const menu = document.getElementById('menu_desktop');
    const logo = document.getElementById('logo_menu');
    if (!menu) return;
    if (window.scrollY > 400) {
      menu.classList.remove('bg-transparent');
      menu.classList.add('bg-[var(--primary-color)]');
      if (logo) {
        logo.classList.remove('hidden');
      }
    } else {
      menu.classList.remove('bg-[var(--primary-color)]');
      menu.classList.add('bg-transparent');
      if (logo) {
        logo.classList.add('hidden');
      }
    }
  });
</script>
